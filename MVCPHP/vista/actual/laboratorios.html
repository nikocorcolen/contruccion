<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
        <title>Laboratorios</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
    <link href="styles/kendo.common.min.css" rel="stylesheet">
    <link href="styles/kendo.rtl.min.css" rel="stylesheet">
    <link href="styles/kendo.default.min.css" rel="stylesheet">

    <script src="js/jquery.min.js"></script>
    <script src="js/kendo.web.min.js"></script>
    <script src="examples/content/shared/js/console.js"></script>
    <script>
        
    </script>
    
        
    </head>
    <body>    
            <script src="examples/content/shared/js/people.js"></script>

        <div id="example" class="k-content">
            <div id="clientsDb">

                <div id="grid" style="height: 380px"></div>

            </div>
            <script>

            function asd(ID)
            {
                $.get("eliminar.php", {ID: ID}, function(a){alert(a);});
            }
            function editar(ID, nombre,descripcion)
            {
                $.get("editar.php",{ID: ID, nombre: nombre, descripcion: descripcion}, function(a){});
            }

                
                $(document).ready(function() 
                {
                    
                    datas = [];

                    $.get("datos.php",function(respuesta)
                    {
                        datas = JSON.parse(respuesta);
                        $("#grid").kendoGrid({
                        dataSource: {
                            data: datas,
                            pageSize: 10
                        },
                        groupable: true,
                        sortable: true,
                        pageable: {
                            refresh: true,
                            pageSizes: true
                        },
                        columns: [ 
                        {       
                                hidden: true,
                                field: "ID",
                                width: 80,
                                title: "ID"
                            } , {
                                field: "nombre",
                                width: 80,
                                title: "Nombre"
                            } , {
                                field: "descripcion",
                                width: 80,
                                title: "Descripcion"
                            }, {
                                width: 100,
                                command: [
                                {name: "edit", text: {edit: "Editar",update: "Actualizar", cancel: "Cancelar"}},
                                {name:"destroy", text: "Eliminar"}
                                
                                ]
                            } 
                        ],

                        editable: {mode: "inline", confirmation: "Â¿Esta seguro que desea eliminar este registro?"},
                        remove: function(e) {
                            //$.get("eliminar.php", {ID: e.model.ID}, function(a){alert(a);});
                            asd(e.model.ID);
                        },
                        save: function(e){
                            editar(e.model.ID,e.model.nombre,e.model.descripcion);
                        }
                    })
                    });
                    
                });
            </script>
        </div>
    </body>
</html>
